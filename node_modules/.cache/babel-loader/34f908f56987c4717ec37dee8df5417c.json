{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\front-andiamo\\\\src\\\\views\\\\Viajes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Cargando from \"../components/Cargando\";\nimport viajesService from \"./../services/viajes\";\nimport { Link } from \"react-router-dom\";\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport { useHistory } from \"react-router-dom\";\nimport { ImOffice } from \"react-icons/im\";\nimport Table from 'react-bootstrap/Table';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Viajes(props) {\n  _s();\n\n  const history = useHistory();\n  const [viajes, setViajes] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    (async () => {\n      const data = await viajesService.indexEmpresa();\n      setViajes(data);\n      setCargando(false);\n    })().catch(err => console.log(\"Error al traer los viajes: \", err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fondopantalla\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-5 viajes-empresa\",\n      children: \"Panel de viajes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-primary mb-5 text-center boton\",\n        to: \"/viajes/nueva\",\n        children: \"Crear nuevo viaje\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"busqueda mb-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group \",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"destino\",\n            className: \"labelcolor\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mr-2 \",\n              children: /*#__PURE__*/_jsxDEV(ImOffice, {\n                style: {\n                  fontSize: 28\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 78\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 57\n            }, this), \"Empresa\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"d-flex mb-3 mt-3 input-empresa\",\n            type: \"text\",\n            placeholder: \"Buscar por empresa\",\n            onChange: e => setSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), cargando ? /*#__PURE__*/_jsxDEV(Cargando, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: viajes.filter(lista => lista.empresa.nombre.toLowerCase().includes(search.toLowerCase())).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Table, {\n            variant: \"warning\",\n            striped: true,\n            bordered: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-4 text-center colorth\",\n                  children: \"Salida\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-4 text-center colorth\",\n                  children: \"Llegada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-4 text-center colorth\",\n                  children: \"Precio\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-4 text-center colortd\",\n                  children: item.salida.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-4 text-center colortd\",\n                  children: item.destino.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-4 text-center colortd\",\n                  children: [\"$ \", item.precio]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Table, {\n            variant: \"warning\",\n            striped: true,\n            bordered: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-4 text-center colorth\",\n                  children: \"Empresa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-4 text-center colorth\",\n                  children: \"Fecha salida\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"col-4 text-center colorth\",\n                  children: \"Fecha llegada\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-4 text-center colortd\",\n                  children: item.empresa.nombre\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-4 text-center colortd\",\n                  children: item.fecha_salida\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-4 text-center colortd \",\n                  children: item.fecha_llegada\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"primary\",\n            onClick: handleShow,\n            className: \"btn btn-danger mb-2 boton-eliminar-panel\",\n            children: \"Eliminar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            className: \"hr\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Modal, {\n            show: show,\n            onHide: handleClose,\n            children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n              closeButton: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n              children: \"\\xBFEst\\xE1s seguro que deseas eliminar este viaje?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                variant: \"secondary\",\n                onClick: handleClose,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-secondary\",\n                  children: \"Cerrar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 105,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                onClick: handleClose,\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-primary\",\n                  onClick: () => {\n                    viajesService.eliminarViaje(item.id).then(data => {\n                      setViajes(viajes.filter(viaje => viaje.id !== item.id));\n\n                      if (typeof props.notExitosaEliminar === 'function') {\n                        props.notExitosaEliminar(data);\n                      }\n\n                      history.push('/');\n                    }).catch(err => {\n                      if (typeof props.notDenegadaEliminar === 'function') {\n                        props.notDenegadaEliminar(item);\n                      }\n                    });\n                  },\n                  children: \"Eliminar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 99\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Viajes, \"t2M6mERhbSAqB9Sk7Wes6Iga+fk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Viajes;\nexport default Viajes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Viajes\");","map":{"version":3,"sources":["C:/xampp/htdocs/front-andiamo/src/views/Viajes.js"],"names":["React","useState","useEffect","Cargando","viajesService","Link","Modal","Button","useHistory","ImOffice","Table","Viajes","props","history","viajes","setViajes","cargando","setCargando","search","setSearch","show","setShow","handleClose","handleShow","data","indexEmpresa","catch","err","console","log","fontSize","e","target","value","filter","lista","empresa","nombre","toLowerCase","includes","map","item","salida","destino","precio","fecha_salida","fecha_llegada","eliminarViaje","id","then","viaje","notExitosaEliminar","push","notDenegadaEliminar"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Cargando from \"../components/Cargando\";\r\nimport viajesService from \"./../services/viajes\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { ImOffice } from \"react-icons/im\";\r\nimport Table from 'react-bootstrap/Table';\r\n\r\n\r\n\r\n\r\nfunction Viajes(props) {\r\n    \r\n    const history = useHistory();\r\n    const [viajes, setViajes] = useState([]);\r\n    const [cargando, setCargando] = useState(true);  \r\n    const [search, setSearch] = useState(\"\");\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const data = await viajesService.indexEmpresa();\r\n            setViajes(data);\r\n            setCargando(false);\r\n        })().catch(err => console.log(\"Error al traer los viajes: \", err));\r\n    }, []); \r\n\r\n    return (<div className=\"fondopantalla\">\r\n        <h1 className=\"mb-5 viajes-empresa\">Panel de viajes</h1>\r\n    <div >\r\n        <Link className=\"btn btn-primary mb-5 text-center boton\" to=\"/viajes/nueva\">Crear nuevo viaje</Link>\r\n\r\n        <form className=\"busqueda mb-5\">\r\n            <div class=\"form-group \">\r\n            <label for=\"destino\" className=\"labelcolor\"><i className=\"mr-2 \"><ImOffice style={{ fontSize: 28 }}/></i>Empresa</label>\r\n                <input\r\n                    className=\"d-flex mb-3 mt-3 input-empresa\"\r\n                    type=\"text\"\r\n                    placeholder=\"Buscar por empresa\"\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                />\r\n            </div>\r\n         </form>\r\n\r\n      \r\n            \r\n             {cargando ?\r\n                <Cargando/> :\r\n                (<div className=\"container-fluid\">\r\n\r\n                  {viajes.filter((lista) =>\r\n                  lista.empresa.nombre.toLowerCase().includes(search.toLowerCase())).map(item => (<div key={item.id}>\r\n                        <Table  variant=\"warning\" striped bordered hover   >\r\n                        <thead>\r\n                        <tr className=\"row\">\r\n                        <th className=\"col-4 text-center colorth\">Salida</th>\r\n                        <th className=\"col-4 text-center colorth\">Llegada</th>\r\n                        <th className=\"col-4 text-center colorth\">Precio</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr className=\"row\"> \r\n                        <td className=\"col-4 text-center colortd\">{item.salida.nombre}</td>\r\n                        <td className=\"col-4 text-center colortd\">{item.destino.nombre}</td>\r\n                        <td className=\"col-4 text-center colortd\">$ {item.precio}</td>\r\n                        </tr>\r\n                        </tbody>\r\n                        </Table>\r\n\r\n                        <Table  variant=\"warning\" striped bordered hover >\r\n                        <thead>\r\n                        <tr className=\"row\">\r\n                        <th className=\"col-4 text-center colorth\">Empresa</th>\r\n                        <th className=\"col-4 text-center colorth\">Fecha salida</th>\r\n                        <th className=\"col-4 text-center colorth\">Fecha llegada</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr className=\"row\">\r\n                        <td className=\"col-4 text-center colortd\">{item.empresa.nombre}</td>\r\n                        <td className=\"col-4 text-center colortd\">{item.fecha_salida}</td>\r\n                        <td className=\"col-4 text-center colortd \">{item.fecha_llegada}</td>\r\n                        </tr>\r\n                        </tbody>\r\n                        </Table>\r\n                        \r\n            <Button variant=\"primary\" onClick={handleShow} className=\"btn btn-danger mb-2 boton-eliminar-panel\" >\r\n                Eliminar\r\n            </Button>\r\n\r\n            <hr className=\"hr\" />\r\n\r\n\r\n                <Modal show={show} onHide={handleClose}>\r\n                    <Modal.Header closeButton>\r\n                        \r\n                    </Modal.Header>\r\n                    <Modal.Body>¿Estás seguro que deseas eliminar este viaje?</Modal.Body>\r\n                    <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        <button className=\"btn btn-secondary\">\r\n                            Cerrar\r\n                        </button>\r\n                    </Button>\r\n                    <Button onClick={handleClose}>\r\n                    <button className=\"btn btn-primary\" \r\n                        onClick={() => {\r\n                            viajesService.eliminarViaje(item.id)\r\n                                .then(data => {\r\n                                    setViajes(viajes.filter(viaje => viaje.id !== item.id));\r\n                                    if(typeof props.notExitosaEliminar === 'function') {\r\n                                        props.notExitosaEliminar(data);\r\n                                        \r\n                                    }\r\n                                    history.push('/'); \r\n                                })\r\n                                \r\n                                .catch(err => {\r\n                                    if(typeof props.notDenegadaEliminar === 'function') {\r\n                                        props.notDenegadaEliminar(item);\r\n                                    }\r\n                                });\r\n                        }}>Eliminar</button>\r\n                    </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n                    </div>\r\n                    ))}\r\n\r\n                </div>)}      \r\n      \r\n      \r\n    </div> </div>);\r\n}\r\n\r\nexport default Viajes;"]},"metadata":{},"sourceType":"module"}