{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\front-andiamo\\\\src\\\\views\\\\Viajes.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Cargando from \"../components/Cargando\";\nimport viajesService from \"./../services/viajes\";\nimport { Link } from \"react-router-dom\";\nimport PanelViajes from \"../components/PanelViajes\";\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport { useHistory } from \"react-router-dom\";\nimport { ImOffice } from \"react-icons/im\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Viajes(props) {\n  _s();\n\n  const history = useHistory();\n  const [viajes, setViajes] = useState([]);\n  const [cargando, setCargando] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  useEffect(() => {\n    (async () => {\n      const data = await viajesService.indexEmpresa();\n      setViajes(data);\n      setCargando(false);\n    })().catch(err => console.log(\"Error al traer los viajes: \", err));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-5 viajes-empresa\",\n      children: \"Panel de viajes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-primary mb-5 text-center boton\",\n        to: \"/viajes/nueva\",\n        children: \"Crear nuevo viaje\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"busqueda mb-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"form-group \",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"destino\",\n            className: \"labelcolor\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"mr-2 \",\n              children: /*#__PURE__*/_jsxDEV(ImOffice, {\n                style: {\n                  fontSize: 28\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 78\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 57\n            }, this), \"Empresa\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"d-flex mb-3 mt-3 input-empresa\",\n            type: \"text\",\n            placeholder: \"Buscar por empresa\",\n            onChange: e => setSearch(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), cargando ? /*#__PURE__*/_jsxDEV(Cargando, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this) : viajes.filter(lista => lista.empresa.nombre.toLowerCase().includes(search.toLowerCase())).map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"  \", /*#__PURE__*/_jsxDEV(PanelViajes, {\n          viaje: item\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 113\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: handleShow,\n          className: \"btn btn-danger mb-2 boton-eliminar-panel\",\n          children: \"Eliminar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"hr\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Modal, {\n          show: show,\n          onHide: handleClose,\n          children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n            closeButton: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n            children: \"\\xBFEst\\xE1s seguro que deseas eliminar este viaje?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"secondary\",\n              onClick: handleClose,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-secondary\",\n                children: \"Cerrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleClose,\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => {\n                  viajesService.eliminarViaje(item.id_viaje).then(data => {\n                    setViajes(viajes.filter(viaje => viaje.id_viaje !== item.id_viaje));\n\n                    if (typeof props.notExitosaEliminar === 'function') {\n                      props.notExitosaEliminar(data);\n                    }\n\n                    history.push('/');\n                  }).catch(err => {\n                    if (typeof props.notDenegadaEliminar === 'function') {\n                      props.notDenegadaEliminar(item);\n                    }\n                  });\n                },\n                children: \"Eliminar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 11\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 5\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 92\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }, this), \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 13\n  }, this);\n}\n\n_s(Viajes, \"t2M6mERhbSAqB9Sk7Wes6Iga+fk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Viajes;\nexport default Viajes;\n\nvar _c;\n\n$RefreshReg$(_c, \"Viajes\");","map":{"version":3,"sources":["C:/xampp/htdocs/front-andiamo/src/views/Viajes.js"],"names":["React","useState","useEffect","Cargando","viajesService","Link","PanelViajes","Modal","Button","useHistory","ImOffice","Viajes","props","history","viajes","setViajes","cargando","setCargando","search","setSearch","show","setShow","handleClose","handleShow","data","indexEmpresa","catch","err","console","log","fontSize","e","target","value","filter","lista","empresa","nombre","toLowerCase","includes","map","item","eliminarViaje","id_viaje","then","viaje","notExitosaEliminar","push","notDenegadaEliminar","id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Cargando from \"../components/Cargando\";\r\nimport viajesService from \"./../services/viajes\";\r\nimport { Link } from \"react-router-dom\";\r\nimport PanelViajes from \"../components/PanelViajes\";\r\nimport Modal from 'react-bootstrap/Modal';\r\nimport Button from 'react-bootstrap/Button';\r\nimport {useHistory} from \"react-router-dom\";\r\nimport { ImOffice } from \"react-icons/im\";\r\n\r\n\r\n\r\n\r\nfunction Viajes(props) {\r\n    \r\n    const history = useHistory();\r\n    const [viajes, setViajes] = useState([]);\r\n    const [cargando, setCargando] = useState(true);  \r\n    const [search, setSearch] = useState(\"\");\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            const data = await viajesService.indexEmpresa();\r\n            setViajes(data);\r\n            setCargando(false);\r\n        })().catch(err => console.log(\"Error al traer los viajes: \", err));\r\n    }, []); \r\n\r\n    return (<div>\r\n        <h1 className=\"mb-5 viajes-empresa\">Panel de viajes</h1>\r\n    <div >\r\n        <Link className=\"btn btn-primary mb-5 text-center boton\" to=\"/viajes/nueva\">Crear nuevo viaje</Link>\r\n\r\n        <form className=\"busqueda mb-5\">\r\n            <div class=\"form-group \">\r\n            <label for=\"destino\" className=\"labelcolor\"><i className=\"mr-2 \"><ImOffice style={{ fontSize: 28 }}/></i>Empresa</label>\r\n                <input\r\n                    className=\"d-flex mb-3 mt-3 input-empresa\"\r\n                    type=\"text\"\r\n                    placeholder=\"Buscar por empresa\"\r\n                    onChange={(e) => setSearch(e.target.value)}\r\n                />\r\n            </div>\r\n         </form>\r\n\r\n        {   \r\n            cargando ?\r\n            <Cargando/> :\r\n            viajes.filter((lista) =>\r\n            lista.empresa.nombre.toLowerCase().includes(search.toLowerCase())).map(item => <div key={item.id}>  <PanelViajes viaje={item} /> \r\n\r\n\r\n            <Button variant=\"primary\" onClick={handleShow} className=\"btn btn-danger mb-2 boton-eliminar-panel\" >\r\n                Eliminar\r\n            </Button>\r\n\r\n            <hr className=\"hr\" />\r\n\r\n\r\n    <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n        </Modal.Header>\r\n        <Modal.Body>¿Estás seguro que deseas eliminar este viaje?</Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n              <button className=\"btn btn-secondary\">\r\n                 Cerrar\r\n              </button>\r\n          </Button>\r\n          <Button onClick={handleClose}>\r\n          <button className=\"btn btn-primary\" \r\n            onClick={() => {\r\n                viajesService.eliminarViaje(item.id_viaje)\r\n                    .then(data => {\r\n                        setViajes(viajes.filter(viaje => viaje.id_viaje !== item.id_viaje));\r\n                        if(typeof props.notExitosaEliminar === 'function') {\r\n                            props.notExitosaEliminar(data);\r\n                            \r\n                        }\r\n                        history.push('/'); \r\n                    })\r\n                    \r\n                    .catch(err => {\r\n                        if(typeof props.notDenegadaEliminar === 'function') {\r\n                            props.notDenegadaEliminar(item);\r\n                        }\r\n                    });\r\n             }}>Eliminar</button>\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n      \r\n            </div>)}\r\n    </div> </div>);\r\n}\r\n\r\nexport default Viajes;"]},"metadata":{},"sourceType":"module"}